<div *ngIf="assessmentNotAvailable">
  <p>Assessment not available</p>
</div>

<div *ngIf="showForm && !assessmentNotAvailable" class="form">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="candidateName">Candidate Name</label>
      <input type="text" id="candidateName" formControlName="candidateName" required>
      <div *ngIf="form.get('candidateName').invalid && form.get('candidateName').touched">
        Candidate Name is required
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" formControlName="email" required>
      <div *ngIf="form.get('email').invalid && form.get('email').touched">
        <div *ngIf="form.get('email').errors?.['required']">Email is required</div>
        <div *ngIf="form.get('email').errors?.['email']">Please enter a valid email</div>
      </div>
    </div>

    <div class="form-group">
      <label for="phoneNumber">Phone Number</label>
      <input type="text" id="phoneNumber" formControlName="phoneNumber" required>
      <div *ngIf="form.get('phoneNumber').invalid && form.get('phoneNumber').touched">
        <div *ngIf="form.get('phoneNumber').errors?.['required']">Phone Number is required</div>
        <div *ngIf="form.get('phoneNumber').errors?.['pattern']">Phone Number must be 10 digits</div>
      </div>
    </div>

    <button type="submit" class="btn">Submit</button>
  </form>
</div>

<div *ngIf="showAssessment && !assessmentNotAvailable" class="assessment">
  <h2>{{ assessment.assessmentname }}</h2>

 
  <p><strong>Question:</strong> </p>
   <pre>{{ assessment.question }}</pre>
  <div class="form-group">
    <label for="code">Your Code</label>
    <textarea id="code" rows="20" class="textarea"
    [(ngModel)]="assessment.outline"
    ></textarea>
  </div>
<button (click)="checkCode()" class="btn">Check</button> &nbsp;&nbsp;&nbsp;&nbsp;
<button (click)="finalSubmit()" class="btn">Final Submit</button>
</div>






<div *ngIf="apiResponse">
  <p><strong>Result Type:</strong> {{ apiResponse.resultType }}</p>
  <p><strong>Value:</strong> {{ apiResponse.value }}</p>
</div>